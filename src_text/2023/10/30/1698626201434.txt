仕事でconcurrentなスラブアロケータを書く事になったが、こういうのをそこらの1プログラマが書くのはC++って感じだよなぁ。